{% extends "base.html" %}

{% block title %}{{ object.title }} · PyBlog{% endblock %}

{% block content %}
<a class="btn btn-outline-secondary mb-3" href="{% url 'pages_list' %}">
  ← Volver a Páginas
</a>

<div class="card shadow-sm">
{% if object.image %}
  <figure class="mb-3">
    <img
      src="{{ object.image.url }}"
      alt="{{ object.title }}"
      class="w-100 rounded"
      style="max-height: 420px; object-fit: contain; background: #f1f3f5;"
    >
  </figure>
{% endif %}

  <div class="card-body">
    <h1 class="h3">{{ object.title }}</h1>

    <p class="text-muted small mb-3">
      por @{{ object.author.username }} · Publicado: {{ object.created_at|date:"d/m/Y H:i" }}
    </p>

    <div style="white-space: pre-wrap;">
      {% if object.content %}
        {{ object.content|safe }}
      {% endif %}
    </div>

    {% if user.is_authenticated and object.author == user %}
      <hr>
      <div class="d-flex gap-2">
        <a class="btn btn-outline-dark" href="{% url 'pages_update' object.pk %}">Editar</a>
        <a class="btn btn-outline-danger" href="{% url 'pages_delete' object.pk %}">Eliminar</a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
